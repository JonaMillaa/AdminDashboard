<div class="dashboard-container">

    <!-- Barra de navegación (navbar) -->
    <mat-toolbar class="navbar">
      <header class="dashboard-header">
        <h1>Panel de Control: Análisis de Publicaciones y Actividad</h1>
        <p>Explora métricas clave para gestionar y optimizar las publicaciones por categoría y período.</p>
      </header>
    </mat-toolbar>
  <div class="top-container">

    <div class="stats-summary">
      <div class="stat-card" style="background-color: #81bbf8c5;">
        <p>Total de publicaciones</p>
        <h3>{{ totalPublications }}</h3>
      </div>
      <div class="stat-card" style="background-color: #81f0f8c5;">
        <p>Publicaciones presenciales</p>
        <h3>{{ presencialCount }}</h3>
      </div>
      <div class="stat-card" style="background-color: #a581f8c5;">
        <p>Publicaciones virtuales</p>
        <h3>{{ virtualCount }}</h3>
      </div>
      <div class="stat-card" style="background-color: #f881dec5;">
        <p>Estado más común</p>
        <h3>{{ commonState }}</h3>
      </div>
    </div>
  </div>

    <!-- Contenedor superior para el gráfico de KPI -->
    <app-kpi-publicaciones></app-kpi-publicaciones>

    <!-- componente del grafico-promedio-publicaciones -->
    <!-- <app-grafico-promedio-publicaciones></app-grafico-promedio-publicaciones> -->

    <!-- Contenedor superior para el gráfico de tendencia con filtro de formato -->
  <div class="ContainerGraficoTabla">
    <h2 class="titleContainerGraficoTabla">
      Evolución de las Publicaciones por Formato: Presencial vs Remoto
    </h2>
    <div class="content-GT">
      <div class="chart-estados">
        <div class="filter-container">
          <mat-form-field appearance="fill">
            <mat-label>Seleccionar Año</mat-label>
            <mat-select [(value)]="selectedYearFormat" (selectionChange)="onYearChangeFormat($event.value)">
              <mat-option *ngFor="let year of growthYears" [value]="year">{{ year }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
          <canvas #trendChart id="trendChart" class="fixed-size-chart"></canvas>
      </div>
      <!-- <div id="infoTableContainer" class="tabla">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
          <ng-container matColumnDef="fecha">
            <th mat-header-cell *matHeaderCellDef> Fecha </th>
            <td mat-cell *matCellDef="let row"> {{ row.fecha }} </td>
          </ng-container>

          <ng-container matColumnDef="cantidad">
            <th mat-header-cell *matHeaderCellDef> Cantidad de Publicaciones </th>
            <td mat-cell *matCellDef="let row"> {{ row.cantidad }} </td>
          </ng-container>

          <ng-container matColumnDef="detalles">
            <th mat-header-cell *matHeaderCellDef> Detalles </th>
            <td mat-cell *matCellDef="let row"> {{ row.detalles }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

      </div> -->

  </div>

  <app-dashboard></app-dashboard>


</div>

